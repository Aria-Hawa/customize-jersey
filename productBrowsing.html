<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 載入react -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <title>VSER-React</title>
    <link rel="icon" href="./favicon.ico">
        <link rel="stylesheet" href="./styles/headNfooter.css">
    <link rel="stylesheet" href="./styles/sandy_popup.css">
    <link rel="stylesheet" href="./styles/sandy.css">
    <link rel="stylesheet" href="./styles/pbCarousel.css">
    <script type="text/babel" src="./jsx/Header.jsx"></script>
    <script type="text/babel" src="./jsx/Footer.jsx"></script>
    <script type="text/babel" src="./jsx/PbShape.jsx"></script>
</head>

<body>
    <!-- 首頁區 -->
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // 商品元件
        function PbShape(props) {
            // 滑鼠滑入pbShape才會顯示pbTBtn
            const [isHovered, setIsHovered] = useState(false);
            return <>
                <li className="pbShape"
                    onMouseEnter={() => setIsHovered(true)}
                    onMouseLeave={() => setIsHovered(false)}>
                    <div className="frame"></div>
                    <div className="smallBox">
                    <div className="smallBoxIcon collection"></div>
                    </div>
                    <div className="pbshapeimg">
                        <div className={props.svcA}></div>
                        <div className={props.svcB}></div>
                    </div>
                    <div className="pbBescribe">
                        <div className="pbText">
                            <h4>{props.shape}</h4>
                            <h5>{props.price}</h5>
                        </div>
                        <div className="pbText">
                            <p>{props.introduce}</p>
                            <h5>{props.star}</h5>
                        </div>
                        <div id={props.pbNum} className="pbTBtn" data-product={props.dataNum} style={{ display: isHovered ? 'flex' : 'none' }}>
                            詳細介紹
                        </div>
                    </div>
                </li>
            </>
        }

        function App() {
            useEffect(() => {
                
                $(document).ready(function () {
                    // 輪播
                    $('#carousel-left').click(function () {
                        slideCarousel("left");
                    });

                    $('#carousel-right').click(function () {
                        slideCarousel("right");
                    });

                    changeJersey();
                    // 詳細介紹Btn
                    $('.pbTBtn').click(function (e) {
                        e.preventDefault();
                        const productId = $(this).data('product'); // 獲取點擊商品的 data-product 屬性
                        localStorage.setItem('selectedProduct', productId); // 將商品資訊保存到 localStorage
                        window.location.href = './commodity_text.html'; // 跳轉到內頁
                    });
                    // 彈出視窗
                    $('#collection').on('click', function () {
                        $('#collectionWindow').fadeIn();

                        //  視窗3秒自動關閉
                        setTimeout(function () {
                            $('#collectionWindow').fadeOut();
                        }, 3000);
                    });
                });
            })

            return (<>
                <Header classname='darkblue' />
                <main>
                    {/*背景大圖*/}
                    <section id="productBrowsing">
                        <div className="backgroundBasemap bgsvc_1"></div>
                        <div className="backgroundBasemap bgsvc_2" style={{ display: "none" }}></div>
                        <div className="backgroundBasemap bgsvc_3" style={{ display: "none" }}></div>
                        <div className="productBrowsing">
                            <div className="pbTitleMenu">
                                <div className="pbTitle">
                                    <h2>product</h2>
                                </div>
                                <div className="pbMenu">
                                    <nav class="pbItem">
                                        <ul>
                                            <li><a href="#" onClick={changeJersey}>昇華球衣</a></li>
                                            <li><a href="#" onClick={changeSweat}>排汗上衣</a></li>
                                            <li><a href="#" onClick={changeShorts}>訓練短褲</a></li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                            <div className="pbCommodity">
                                <div className="container">
                                    <div className="carousel-wrapper">
                                        <ul id="templates" className="templatesA">
                                            <PbShape
                                                svcA="pbImage A svcA-1" svcB="pbImage B svcA-2" shape="款式AAAAA" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★★" pbNum="pb1" dataNum="A" />
                                            <PbShape
                                                svcA="pbImage A svcA-3" svcB="pbImage B svcA-4" shape="款式BBBBB" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★★★" pbNum="pb2" dataNum="B" />
                                            <PbShape
                                                svcA="pbImage A svcA-5" svcB="pbImage B svcA-6" shape="款式CCCCC" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★" pbNum="pb3" dataNum="C" />
                                            <PbShape
                                                svcA="pbImage A svcA-7" svcB="pbImage B svcA-8" shape="款式DDDDD" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★" pbNum="pb4" dataNum="D" />
                                            <PbShape
                                                svcA="pbImage A svcA-1" svcB="pbImage B svcA-2" shape="款式AAAAA" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★★" pbNum="pb5" dataNum="A" />
                                            <PbShape
                                                svcA="pbImage A svcA-3" svcB="pbImage B svcA-4" shape="款式BBBBB" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★★★" pbNum="pb6" dataNum="B" />
                                        </ul>
                                        <ul id="templates" className="templatesB" style={{ display: "none" }}>
                                            <PbShape
                                                svcA="pbImage A svcB-1" svcB="pbImage B svcB-2" shape="款式AAAAA" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★★" />
                                            <PbShape
                                                svcA="pbImage A svcB-3" svcB="pbImage B svcB-4" shape="款式BBBBB" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★★★" />
                                            <PbShape
                                                svcA="pbImage A svcB-5" svcB="pbImage B svcB-6" shape="款式CCCCC" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★" />
                                                <PbShape
                                                svcA="pbImage A svcB-1" svcB="pbImage B svcB-2" shape="款式AAAAA" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★★" />
                                            <PbShape
                                                svcA="pbImage A svcB-3" svcB="pbImage B svcB-4" shape="款式BBBBB" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★★★" />
                                            <PbShape
                                                svcA="pbImage A svcB-5" svcB="pbImage B svcB-6" shape="款式CCCCC" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★" />
                                        </ul>
                                        <ul id="templates" className="templatesC" style={{ display: "none" }}>
                                            <PbShape
                                                svcA="pbImageShort AShort svcC-1" shape="款式AAAAA" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★★" />
                                            <PbShape
                                                svcA="pbImageShort AShort svcC-2" shape="款式BBBBB" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★★★" />
                                            <PbShape
                                                svcA="pbImageShort AShort svcC-3" shape="款式CCCCC" price="$1000"
                                                introduce="款式介紹款式介紹款式介紹" star="★★★" />
                                                
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div className="arrowGroup">
                                <div className="arrow2" id="carousel-left">
                                </div>
                                <div className="arrow1 showing" id="carousel-right">
                                </div>
                            </div>
                        </div>
                    </section>
                </main>
                <Footer />
                <div id="collectionWindow" className="collectionWindow">
                    <div className="collection-content">
                        <img className="arrowSuccess" src="./images/commodity_arrow_love.svg" alt="" />
                        <p>商品已成功加入收藏</p>
                    </div>
                </div>
            </>)

        }

        ReactDOM
            .createRoot(document.getElementById('root'))
            .render(<App />);
    </script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
    <script src="./js/jsSandyProductBrowsing.js"></script>

</body>


</html>